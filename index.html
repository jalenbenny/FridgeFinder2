<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FridgeFinder | Your Recipe Planner</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div id="authDiv" class="auth-section">
            <h1>ğŸ FridgeFinder ğŸ”</h1>
            <h2> Sign In or Create Account</h2>
            <div class="auth-form">
                <input type="text" id="username" placeholder="Username (e.g., chef_anna)">
                <input type="password" id="password" placeholder="Password">
                <div class="auth-buttons">
                    <button id="signInBtn" class="btn btn-primary">ğŸ”‘ Sign In</button>
                    <button id="signUpBtn" class="btn btn-secondary">ğŸ“ Create Account</button>
                </div>
                <p id="authMessage" class="auth-message"></p>
            </div>
        </div>

        <div id="mainContent" style="display:none;">
            <div class="header">
                <h1>ğŸ FridgeFinder</h1>
                <div class="header-user">
                    <p>Welcome, <strong id="displayUser"></strong></p>
                    <button id="signOutBtn" class="btn btn-secondary">ğŸ‘‹ Sign Out</button>
                </div>
            </div>
            
            <div class="tab-container">
                <button class="tab-button active" data-tab="search">ğŸ³ Find Recipes</button>
                <button class="tab-button" data-tab="plan">ğŸ“… Weekly Plan</button>
                <button class="tab-button" data-tab="favorites">â­ Favorites</button>
                <button class="tab-button" data-tab="general-comments">ğŸ’¬ Community</button>
            </div>

            <div id="search" class="tab-content active" style="display:block;">
                <section class="section-header">
                    <h2>ğŸ›’ Filter by Ingredients</h2>
                </section>
                
                <h3>Select Ingredients You Have:</h3>
                <div id="ingredients-container">
                    <div class="no-results">Loading ingredients...</div>
                </div>

                <h3>Filter Allergens Out:</h3>
                <div class="allergy-filters">
                    <label>
                        <input type="checkbox" class="allergy-filter" value="gluten"> ğŸŒ¾ Gluten-Free
                    </label>
                    <label>
                        <input type="checkbox" class="allergy-filter" value="nuts"> ğŸ¥œ Nut-Free
                    </label>
                    <label>
                        <input type="checkbox" class="allergy-filter" value="dairy"> ğŸ¥› Dairy-Free
                    </label>
                </div>

                <button id="search-btn" class="btn btn-primary">ğŸ” Search Recipes</button>

                <hr>

                <section>
                    <h3>ğŸ“Š Search Results</h3>
                    <div id="results">
                    </div>
                </section>
            </div>

           <div id="plan" class="tab-content" style="display:none;">
    <section class="section-header" style="display:flex; justify-content:space-between; align-items:center;">
        <div>
            <h2>ğŸ“… Weekly Meal Plan</h2>
            <p class="helper-text" style="display:inline;">Use the suggestions panel to quickly add meals to your weekly plan.</p>
        </div>
        <div style="display:flex; gap:10px;">
            <button id="new-plan-btn" class="btn btn-secondary">ğŸ†• New Plan</button>
            <button id="save-plan-btn" class="btn btn-primary">ğŸ’¾ Save Plan</button>
            <select id="load-plan-select" class="btn btn-secondary">
                <option disabled selected>-- Load Saved Plan --</option>
            </select>
        </div>
    </section>

    <div class="weekly-plan-wrapper" style="display:flex; gap:20px;">
        <!-- Weekly Plan Grid -->
        <div id="weekly-plan-container" class="weekly-plan" style="display:flex; gap:10px; flex-wrap:nowrap; overflow-x:auto;">
            <!-- Each day card will display horizontally -->
        </div>

        <!-- Suggestions Panel -->
        <div id="suggestions-panel" style="min-width:200px; background: var(--color-accent-light); padding:15px; border-radius:10px; box-shadow:0 2px 4px var(--color-shadow); position:sticky; top:20px; height:fit-content;">
            <h3>ğŸ’¡ Suggestions</h3>
            <div id="suggestions-content">
                <p>Select a meal type to see suggestions.</p>
                <button class="suggestion-btn btn btn-secondary" data-meal="breakfast">Breakfast</button>
                <button class="suggestion-btn btn btn-secondary" data-meal="lunch">Lunch</button>
                <button class="suggestion-btn btn btn-secondary" data-meal="dinner">Dinner</button>
                <ul id="suggestions-list" style="margin-top:10px; list-style:disc; padding-left:20px;"></ul>
            </div>
        </div>
    </div>
</div>


            <div id="favorites" class="tab-content" style="display:none;">
                <section class="section-header">
                    <h2>â­ My Favorite Recipes</h2>
                </section>
                <div id="favorites-list">
                </div>
            </div>

            <div id="general-comments" class="tab-content" style="display:none;">
                <section class="section-header">
                    <h2>ğŸ’¬ Community Board</h2>
                </section>
                <div class="comment-input-area">
                    <textarea id="general-comment-textarea" placeholder="Share your cooking tips, questions, or general thoughts..."></textarea>
                    <button id="general-comment-btn" class="btn btn-primary">ğŸ“¢ Post</button>
                </div>
                
                <h3>Recent Posts:</h3>
                <div id="general-comments-container">
                </div>
            </div>
        </div>
    </div>

    <!-- Plan Modal -->
    <div id="plan-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close" id="plan-modal-close">&times;</span>
            <h3>Add Recipe to Plan</h3>
            <p>Recipe: <strong id="plan-recipe-name"></strong></p>

            <label for="plan-day-select">Select Day:</label>
            <select id="plan-day-select">
                <option value="Monday">Monday</option>
                <option value="Tuesday">Tuesday</option>
                <option value="Wednesday">Wednesday</option>
                <option value="Thursday">Thursday</option>
                <option value="Friday">Friday</option>
                <option value="Saturday">Saturday</option>
                <option value="Sunday">Sunday</option>
            </select>

            <label for="plan-meal-select">Select Meal:</label>
            <select id="plan-meal-select">
                <option value="breakfast">Breakfast</option>
                <option value="lunch">Lunch</option>
                <option value="dinner">Dinner</option>
            </select>
            <br>
            <button id="plan-confirm-btn" class="btn btn-primary">Confirm Add to Plan</button>
        </div>
    </div>

    <!-- Recipe Comment Modal -->
    <div id="recipe-comment-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close" id="recipe-comment-modal-close">&times;</span>
            <h3 id="comment-recipe-name">Comments for [Recipe Name]</h3>
            
            <div id="recipe-comments-list">
            </div>

            <div class="comment-input-area">
                <textarea id="recipe-comment-textarea" placeholder="Add your review or cooking notes..."></textarea>
                <button id="recipe-comment-btn" class="btn btn-primary">Post Comment</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
